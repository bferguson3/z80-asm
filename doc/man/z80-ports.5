.TH Z80-PORTS 5 "18 Apr 2018" "Z80-PORTS Version 2.4" "Port mapping"

.SH NAME 
description of port mapping used by z80-mon for IN and OUT

.SH DESCRIPTION

Because the IN and OUT instructions communicate with the outside their effect
is environment/OS dependend.
Port access can be either directly clock synchron or asynchron and buffered.
In the later case all effected ports by the IN and OUT instructions are
realized as a binary file named
.I ".Z80_ports"
buffering the data.
Then this file must be read- and writable and should contain 256 bytes.
In the case, that only directly synchron port access by other hardware components is wanted, this file 
.I ".Z80_ports"
should not exist, or must be at least nonreadable to not interfere with the system bus.

The user has the option to reserve some ports for bank switching.

.SH bank switching
The instruction
.I OUT (n),A
may select a certain bank, defined in the file
.I banks.
The value of
.I A
selects the position the bank is mapped on.
Some banks ignore the value A, and are always mapped onto a predefined position.

.SH Two special ports for character input and output
are connected to stdin and stdout. Typically these are the ports 0 and 1 in UNIX. Appropriate hardware 
is already attached to enable nonblocking keyboard reading (be aware that this
might interfere which z80-mon) and output on a one line display inside z80-mon
user interface.

.SH SEE ALSO
z80-mon(1), z80-banks(5), z80-keyboard(5), z80-memory(5)
